
[ Data-Link Layer ] : 2계층
>. Frame 형태의 Data를 전송 / System의 MAC Address를 이용하여 장치 구분이 가능하다.
>. 매체접근제어 방식을 이용하여 Data간의 충돌을 방지하고, 상위 계층과의 논리적 연결 링크를 갖는다.
>. 2계층 데이터 단위 : Frame


[ LAN 전송용 Protocol의 종류 ]

1. "Ethernet"
- Xerox(제록스), Intel, DIX 사에서 공동으로 개발 된 LAN 전송용 Protocol
- 10MBPS의 속도
- CSMA/CD 방식 사용 ( Collision 방지를 위한 매체 접근 제어 ) : 경쟁식 선점 
- Fast Ethernet (100MBPS) > Gigabit Ethernet(1000MBPS) > 10Gigabit Ethernet(10GBPS)
- 현재 가장 많이 사용되는 LAN 전송용 Protocol ( 점유율 90% )

2. Token-Ring
- IBM사에서 개발한 LAN 전송용 Protocol
- Token Passing 방식을 사용 ( Collision 방지를 위한 매체 접근 제어 ) : 비경쟁식 선점
- 디바이스에게 Token을 전달하여 Token을 보유한 디바이스만 통신 


[ LAN Topology :  LAN 환경의 네트워크 구성 요소들의 배치 상태 ]

1. "Bus Topology"
: 공용 케이블에 디바이스를 연결 한 형태
: Ethernet 방식을 사용하여 통신 

[장점] 
- 구조가 단순 
- Network의 확장성이 좋다
- 비용이 저렴
- 트래픽 제어가 쉽다

[단점]
- Main 디바이스의 문제가 생길 경우 전체 Network Down
- Trouble Shooting이 어렵다. ( 문제 발생지점을 찾기 힘들다 )
- 디바이스가 많을 경우 통신 효율이 감소
- 공용 매체를 사용하므로, 접근제어가 반드시 필요

-----------------------------------------------------------------------------

2. "Ring Topology" 
: 디바이스가 하나의 원을 구성하는 형태
: Token-Ring 방식을 사용하여 통신 

[장점] 
- Token Passing ( 충돌 방지 ) 
- 데이터를 안정적으로 전달 ( 신호전달이 정확 ) 

[단점]
- 한대의 디바이스에만 문제가 생겨도 전체 Network Down
- Network의 확장 및 구조변경이 어렵다.
- Token이 없을 경우 통신이 불가능

-----------------------------------------------------------------------------

3. "Star Topology"
: Switch 혹은 Hub와 같은 디바이스에 다른 모든 디바이스를 연결 한 형태
: Ethernet 방식을 사용하여 통신
: 현재 가장 많이 사용되는 Topology 
: Twisted-pair, Fiber-optic Cable을 사용 
: 접근제어가 필요 

[장점] 
- 중앙 집중식 관리 가능
- 확장 및 관리가 용의

[단점]
- Switch 혹은 Hub 장비 고장 시 Network 전체 Down

	7Byte : 10101010(1Byte) * 7
	1Byte : 10101011(1Byte)
	-------------------------- Data 시작지점


[ 2계층 장비 : Switch 장비 ]
: 2계층 Header 정보를 토대로 기능을 수행하는 장비 
: Collision을 방지한다. ( Collision Domain을 분할 한다. )
: Full-Duplex 방식을 사용 하여 각 Interface를 따로 관리 
: 주소 학습을 진행 ( "MAC Address Table" )
: Buffer를 갖는다. ( Data가 들어온 순서를 기억하는데 사용 )


[ Network(Internet) Layer ] : 3계층
: 자신과 다른 네트워크와 통신이 가능하도록 구현하는 것이 목적 
: IPv4를 이용하여 통신
: Router 장비를 이용 한 Routing이 중요
: 3계층 단위 ( "Packet" ) 

[ IPv4 Address ] 
- 총 32개의 Bit로 구성이 되어 있으며 8Bit로 1개의 옥탯을 표현한다.
- IPv4의 경우 옥탯 4개로 구성이 되어있다.
- Bit의 연산은 2진수로 진행 ( "1" = 사용, "0" = 사용 안 함 )

0000 0000 . 0000 0000 . 0000 0000 . 0000 0000 [ IPv4 최소 값 ]: 0.0.0.0
1111 1111 . 1111 1111 . 1111 1111 . 1111 1111 [ IPv4 최대 값 ]: 255.255.255.255

# IPv4의 범위 : 0.0.0.0 ~ 255.255.255.255

- LAN ( 근거리 통신망 ) : 케이블 연결, 동일한 "IP주소 대역대" 사용
- Network-ID(소속) / Host-ID(식별자) [ EX) 최(소속) / 종운(식별자) ]
- 소속 = 내가 속한 Network의 주소 , 식별자 = 해당 Network에서 나를 구분하는 주소

1100 0000 . 1010 1000 . 0000 0000 . 0000 0010 [ 192.168.0.2 ] : PC IP
1111 1111 . 1111 1111 . 0000 0000 . 0000 0000 [ 255.255.0.0 ] : SubnetMask

※ SubnetMask : Net-ID / Host-ID를 구분 ("1":Net-ID / "0":Host-ID )

[ IPv4 Classful 방식 ] 
- 초기 IPv4의 경우 Classful 형식을 사용, 현재는 Classless 방식을 사용
- Class를 사용하는 이유는 Network를 나누어 주기 위해 사용  
- 따로 명시하지 않아도 Net-ID 와 Host-ID를 구분 할 수 있다
- 주소의 낭비가 발생하여 현재는 사용하지 않는 방식 







A Class ( 전체 IPv4 범위 중 약 50%를 점유 ) : 규모가 큰 조직에게 할당 
>. 첫 번째 옥텟의 첫 번째 Bit값이 "0"으로 고정되어있다.
>. 0000 0000 ~ 0111 1111 [ 0 ~ 127 ]
>. IP주소의 첫 번째 주소값이 0 ~ 127 사이의 주소는 A Class에 속한 IP주소가 된다.

   Net-ID	Host-ID ( 2^24 : 16,777,216 )
| --------- | ----------------------------------|
[ 0xxx xxxx . xxxx xxxx . xxxx xxxx . xxxx xxxx ] 

>. A Class는 총 128(2^7)개의 Network를 갖는다.
>. A Class를 부여받을 수 있는 회사의 수 ( 같은 Network 대역을 여러 회사에서 사용 X )
>. A Class는 각 Network마다 IP주소를 16,777,216개를 부여 할 수 있다.
>. A Class 대역대를 사용하는 컴퓨터의 수 
>. 정리 : A Class는 총 128개의 Network에서 각 IP주소를 16,777,216개씩 부여가 가능하다.

[ IPv4의 제외주소 ]
- IPv4 주소체계에서 사용용도가 미리 정의되어있는 예약 주소 값
- 제외주소로 지정 된 IP주소는 Host에서 사용이 불가능하다.

A Class 제외 주소
1."0.x.x.x": All Network 주소, 모든 IPv4 주소를 포함 한다라는 의미를 갖는다.
2."127.x.x.x": Loopback 주소, System에서 내부에서 프로세스간 통신하는 주소로 사용.
3."10.x.x.x": A Class의 사설 IP주소 대역(외부 통신이 불 가능한 내부적으로 사용되는 주소 체계)

공인 IP : 외부통신시 사용하는 주소 ( ex ) 최종운 - 전체 네트워크에서 유일한 주소
사설 IP : 내부통신시 사용하는 주소 ( ex ) 집에서 아들 - 하나의 네트워크에서 구분되는 주소
공인 IP의 특징 : 전체에서 유일한 주소 중복사용이 불가능 하다.
사설 IP의 특징 : 서로다른 네트워크에서 중복 사용이 가능 하다. [ 외부통신 x ] 


B Class ( 전체 IPv4 범위 중 약 25%를 점유 ) : 중간 규모 조직에게 할당 
>. 첫 번째 옥텟의 첫 번째, 두 번째 Bit의 값이 "10"으로 고정되어있다.
>. 1000 0000 ~ 1011 1111 [ 128 ~ 191 ]
>. IP주소의 첫 번째 주소값이 128 ~ 191 사이의 주소는 B Class에 속한 IP주소가 된다.

          Net-ID	 Host-ID ( 2^16 : 65,536 )
| --------------------- | ----------------------|
[ 10xx xxxx . xxxx xxxx . xxxx xxxx . xxxx xxxx ] 

>. B Class는 총 16,384(2^14)개의 Network를 갖는다.
>. B Class는 각 Network마다 IP주소를 65,536개를 부여 할 수 있다.
>. 정리 : B Class는 총 16,384개의 Network에서 각 IP주소를 65,536개씩 부여가 가능하다.

B Class 제외 주소
1."169.254.x.x" : APIPA 주소 ( 자동 개인 주소 지정 기술 )
2."172.16.x.x" : B Class 사설 IP주소 대역



C Class ( 전체 IPv4 범위 중 약 12.5%를 점유 ) : 소규모 조직에게 할당 
>. 첫 번째 옥텟의 첫 번째, 두 번째, 세 번째 Bit의 값이 "110"으로 고정되어있다.
>. 1100 0000 ~ 1101 1111 [ 192 ~ 223 ]
>. IP주소의 첫 번째 주소값이 192 ~ 223 사이의 주소는 C Class에 속한 IP주소가 된다.

                Net-ID	              Host-ID ( 2^8 : 256 )
| --------------------------------- | ----------|
[ 110x xxxx . xxxx xxxx . xxxx xxxx . xxxx xxxx ] 

>. C Class는 총 2,097,152(2^21)개의 Network를 갖는다.
>. C Class는 각 Network마다 IP주소를 256개를 부여 할 수 있다.
>. 정리 : C Class는 총 2,097,152개의 Network에서 각 IP주소를 256개씩 부여가 가능하다.

C Class 제외 주소
1."192.168.x.x" : C Class 사설 IP주소 대역


D Class ? MultiCast를 위한 주소 ( 참고: A ~ C Class는 Unicast )
>. 첫 번째 옥텟의 첫 번째, 두 번째, 세 번째, 네 번째 Bit의 값이 "1110"으로 고정되어있다.
>. 1110 0000 ~ 1110 1111 [ 224 ~ 239 ]
>. IP주소의 첫 번째 주소값이 224 ~ 239 사이의 주소는 D Class에 속한 IP주소가 된다.


E Class ? 실험용으로 예약 ( 사용하지 않음 )
>. 255.255.255.255 Global Broadcast 주소
>. Global Broadcast 주소를 제외한 나머지 주소는 실험용으로 예약되어있다.



1111 1111 . 1111 1111 . 1111 1111 . 1110 0000 [ SM ]
255.255.255.224 > "/27"









[ Host-ID 기준 ]

1. 부여 받은 Network 확인
-> 218.128.32.0 / 24 ( 255.255.255.0 )

2. 조건 확인 : Subnet당 Host의 수를 최소 25개 이상으로 Subneting

3. 조건에 맞추어 subnetmask Bit값을 조정

218.128.32.NNNH HHHH
255.255.255.1110 0000(224)

218.128.32."000"0 0000 ~ "000"1 1111 [   0 ~  31 ]
218.128.32."001"0 0000 ~ "001"1 1111 [  32 ~  63 ]
218.128.32."010"0 0000 ~ "010"1 1111 [  64 ~  95 ]
218.128.32."011"0 0000 ~ "011"1 1111 [  96 ~ 127 ]
218.128.32."100"0 0000 ~ "100"1 1111 [ 128 ~ 159 ]
218.128.32."101"0 0000 ~ "101"1 1111 [ 160 ~ 191 ]
218.128.32."110"0 0000 ~ "110"1 1111 [ 192 ~ 223 ]
218.128.32."111"0 0000 ~ "111"1 1111 [ 224 ~ 255 ]

※ 각 Network에서는 호스트의 첫 번째 주소값은 해당 네트워크 대표하는 대표주소 사용이 된다 
※ 각 Network에서는 호스트의 마지막 주소값은 해당 네트워크의 브로드캐스트 주소로 사용이 된다
※ 호스트의 첫 번째 주소와 마지막 주소값은 실제 PC(Client)에 할당 할 수 없는 주소값


[ Network-ID 기준 ]

1. 부여 받은 Network 확인
-> 218.128.32.0 / 24 ( 255.255.255.0 )

2. 조건 확인 : 하나의 Network를 4개로 분할하여 사용한다.

3. 조건에 맞추어 subnetmask Bit값을 조정

218.128.32.NNHH HHHH
255.255.255.1100 0000(192)

218.128.32."00"00 0000 ~ "00"11 1111 [   0 ~  63 ]
218.128.32."01"00 0000 ~ "01"11 1111 [  64 ~ 127 ]
218.128.32."10"00 0000 ~ "10"11 1111 [ 128 ~ 191 ]
218.128.32."11"00 0000 ~ "11"11 1111 [ 192 ~ 255 ]






[ VLSM ] : 주의사항 ! 반드시 크기 큰 Subnet 부터 만족하도록 구성한다.

- 100대의 PC를 갖는 강의장 1개 / 50대의 PC를 갖는 강의장 2개를 만들기 위한 Subneting
- 210.123.145.0/24 Network 할당

210.123.145.NHHH HHHH
255.255.255.1000 0000 (128)

210.123.145."0"000 0000 ~ "0"111 1111 (   0 ~ 127 )
210.123.145."1"000 0000 ~ "1"111 1111 ( 128 ~ 255 ) <-- 100대 강의장 사용

" 100대의 PC를 갖는 강의장 : 210.123.145.128/25 "

[ IP주소 할당 예시 ] : 100대의 강의장
IP : 210.123.145.129
SM : 255.255.255.128
GW : 210.123.145.254


210.123.145.0NHH HHHH
255.255.255.1100 0000 (192)

210.123.145.0000 0000 ~ 0011 1111 (  0 ~  63 ) ---> A 강의장
210.123.145.0100 0000 ~ 0111 1111 ( 64 ~ 127 ) ---> B 강의장 

[ A 강의장 PC IP주소 할당 ]
IP : 210.123.145.1
SM : 255.255.255.192
GW : 210.123.145.62

[ B 강의장 PC IP주소 할당 ]
IP : 210.123.145.65
SM : 255.255.255.192
GW : 210.123.145.126














